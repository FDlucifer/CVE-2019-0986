# Security Research for FUN

All focused on Microsoft Windows OS

## NtDataPoc
This PoC exploits "User Profile Service" (ProfSvc.dll).  

Deletes all files within an arbitrary directory despite of the permissions set on that directory  
(excepts all files that are currently in use from other SYSTEM processes).

Requisite for this : attacker user cannot have a current active session.  
This is way we are going to delete NTUSER.DAT file in order to trigger the right condition for exploitation.  
So, you shoud log in with another arbitrary "user_2" and exec the explot with user_1 (attacker) credentials.  

You'll find a precompiled exe bin\x64\Debug directory   
```
Usage :
NtDataPoc USERNAME DOMAINNAME PASSWORD [DIRECTORY_TO_DELETE]
```

IDE VS 2015 , csproj is available. Compile platform choiche is yours: suggested is x64  
You can also compile it with :  
```C:\Windows\Microsoft.NET\Framework\v4.0.30319\csc.exe  /unsafe /platform:x64 /out:sharpthrough.exe Program.cs```  
   
   
This has been tested on :  
```
OS Name:                   Microsoft Windows 10 Enterprise N  
OS Version:                10.0.17763 N/A Build 17763
```  
```
OS Name:                   Microsoft Windows 8.1 Pro
OS Version:               6.3.9600 N/D build 9600
```  
